<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="446px" preserveAspectRatio="none" style="width:446px;height:446px;background:#FFFFFF;" version="1.1" viewBox="0 0 446 446" width="446px" zoomAndPan="magnify"><defs/><g><g id="elem_COMMAND"><rect fill="#F1F1F1" height="142.375" style="stroke:#181818;stroke-width:0.5;" width="126" x="313" y="297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="338" y="311.9951">COMMAND</text><line style="stroke:#181818;stroke-width:0.5;" x1="314" x2="438" y1="317.2969" y2="317.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="319" y="334.292">CONNECTION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="319" y="350.5889">MESSAGE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="319" y="366.8857">DECONNECTION</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="47" x="319" y="383.1826">START</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="319" y="399.4795">VOTE</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="319" y="415.7764">ASK_SPY</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="29" x="319" y="432.0732">ASK</text></g><g id="elem_Client"><rect fill="#F1F1F1" height="109.7813" style="stroke:#181818;stroke-width:0.5;" width="111" x="166.5" y="313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="200.5" y="327.9951">Client</text><line style="stroke:#181818;stroke-width:0.5;" x1="167.5" x2="276.5" y1="333.2969" y2="333.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99" x="172.5" y="350.292">pseudo: char*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="172.5" y="366.5889">is_spy : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="172.5" y="382.8857">pipe_fd : int</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="172.5" y="399.1826">PID : pid_t</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="172.5" y="415.4795">vote : int</text></g><g id="elem_GMN4"><path d="M6,159 L6,199.2656 A0,0 0 0 0 6,199.2656 L97.8356,199.2656 L183.034,312.621 L105.8356,199.2656 L170,199.2656 A0,0 0 0 0 170,199.2656 L170,169 L160,159 L6,159 A0,0 0 0 0 6,159 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M160,159 L160,169 L170,169 L160,159 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="12" y="176.0669">structure representing</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="12" y="191.1997">a client</text></g><g id="elem_Message"><rect fill="#F1F1F1" height="109.7813" style="stroke:#181818;stroke-width:0.5;" width="172" x="213" y="125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="268.5" y="139.9951">Message</text><line style="stroke:#181818;stroke-width:0.5;" x1="214" x2="384" y1="145.2969" y2="145.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="219" y="162.292">from : Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="219" y="178.5889">to : Client</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="160" x="219" y="194.8857">command : COMMAND</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="219" y="211.1826">message : char*</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="219" y="227.4795">data : int</text></g><g id="elem_GMN8"><path d="M213.5,6 L213.5,61.3984 A0,0 0 0 0 213.5,61.3984 L295,61.3984 L299,120.87 L303,61.3984 L384.5,61.3984 A0,0 0 0 0 384.5,61.3984 L384.5,16 L374.5,6 L213.5,6 A0,0 0 0 0 213.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M374.5,6 L374.5,16 L384.5,16 L374.5,6 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="219.5" y="23.0669">structure sent between</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="219.5" y="38.1997">server &amp; client</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="219.5" y="53.3325">through pipes</text></g><!--MD5=[01c0d19b83885f342a00bc0f640bbfea]
reverse link Message to Client--><g id="link_Message_Client"><path codeLine="29" d="M200.57,163.385 C185.425,185.512 197.827,260.42 209.103,312.92 " fill="none" id="Message-backto-Client" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="212,157,204.8111,156.4343,201.524,162.8526,208.7128,163.4183,212,157" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[01c0d19b83885f342a00bc0f640bbfea]
reverse link Message to Client--><g id="link_Message_Client"><path codeLine="30" d="M200.724,180.068 C188.336,201.247 198.842,265.648 209.004,312.96 " fill="none" id="Message-backto-Client-1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="212,173,204.7917,172.7978,201.8327,179.3738,209.041,179.576,212,173" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7415624d7c80164aeb1d5ca3a407a6ff]
reverse link Message to COMMAND--><g id="link_Message_COMMAND"><path codeLine="31" d="M398.943,190.998 C429.058,201.609 419.728,252.542 404.897,296.905 " fill="none" id="Message-backto-COMMAND" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="386,189,391.3196,193.8684,397.8596,190.8304,392.5399,185.962,386,189" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[75833ec39951df8614e8ea2519a75b69]
@startuml
object COMMAND {
    CONNECTION
    MESSAGE
    DECONNECTION
    START
    VOTE
    ASK_SPY
    ASK
}

object Client {
    pseudo: char*
    is_spy : int
    pipe_fd : int
    PID : pid_t
    vote : int
}
note top of Client : structure representing\na client

object Message {
    from : Client
    to : Client
    command : COMMAND
    message : char*
    data : int
}
note top of Message : structure sent between\nserver & client\nthrough pipes

Message::from *- - Client
Message::to *- - Client
Message::command *- - COMMAND
@enduml

PlantUML version 1.2022.10beta2(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>